<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Louie World</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
  
  <!-- Babel for in-browser JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind Configuration -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            fantasy: ['"Cinzel Decorative"', 'cursive'],
            body: ['Lato', 'sans-serif'],
          },
          colors: {
            'hylian-gold': '#C8A947',
            'hylian-blue': '#1F3A8B',
            'forest-green': '#1A472A',
            'dark-slate': '#1a1a1a',
          },
          animation: {
            'pulse-fast': 'pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'spark': 'spark 0.5s ease-out forwards',
          },
          keyframes: {
            spark: {
              '0%': { transform: 'scale(0)', opacity: '1' },
              '100%': { transform: 'scale(1.5)', opacity: '0' },
            }
          }
        },
      },
    }
  </script>

  <!-- Global Styles -->
  <style>
    html, body, #root {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
      background-color: #050505;
      color: #f0f0f0;
      font-family: 'Lato', sans-serif;
      overflow-x: hidden;
    }
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: #1a1a1a; }
    ::-webkit-scrollbar-thumb { background: #C8A947; border-radius: 5px; }
    ::-webkit-scrollbar-thumb:hover { background: #a68b36; }
    .pointer-events-none { pointer-events: none; }
    /* Animation Fallbacks */
    .animate-in { animation-duration: 0.7s; animation-fill-mode: both; animation-timing-function: ease-out; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes zoomIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .fade-in { animation-name: fadeIn; }
    .zoom-in { animation-name: zoomIn; }
  </style>

  <!-- Import Map for React & Libraries -->


  <!-- Polyfill for process.env (Required for API Key) -->
  <script>
    window.process = {
      env: {
        // PASTE YOUR API KEY INSIDE THE QUOTES BELOW
        API_KEY: '' 
      }
    };
  </script>
<link rel="stylesheet" href="/index.css">
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "framer-motion": "https://esm.sh/framer-motion@10.16.4",
    "lucide-react": "https://esm.sh/lucide-react@0.292.0",
    "@google/genai": "https://esm.sh/@google/genai@0.1.1",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
  <script type="module" crossorigin src="/studio-louie.github.io/assets/index-B1okYv-g.js"></script>
</head>
<body>
  <div id="root"></div>

  <!-- MAIN APPLICATION CODE -->
  <script type="text/babel" data-type="module">
    import React, { useState, useEffect, useRef } from 'react';
    import { createRoot } from 'react-dom/client';
    import { motion, AnimatePresence } from 'framer-motion';
    import { Undo2, Send, Sparkles, Loader2 } from 'lucide-react';
    import { GoogleGenAI } from '@google/genai';

    // --- COMPONENTS ---

    // 1. MasterSword Component
    const MasterSword = ({ className = "", glow = false }) => {
      return (
        <svg viewBox="0 0 100 300" className={`overflow-visible ${className}`} xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="bladeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stopColor="#C0C0C0" />
              <stop offset="50%" stopColor="#E0E0E0" />
              <stop offset="51%" stopColor="#FFFFFF" />
              <stop offset="100%" stopColor="#C0C0C0" />
            </linearGradient>
            <filter id="glowFilter">
              <feGaussianBlur stdDeviation="2.5" result="coloredBlur" />
              <feMerge>
                <feMergeNode in="coloredBlur" />
                <feMergeNode in="SourceGraphic" />
              </feMerge>
            </filter>
          </defs>
          <path d="M50 20 L65 220 L50 290 L35 220 Z" fill="url(#bladeGradient)" stroke="#999" strokeWidth="1" filter={glow ? "url(#glowFilter)" : ""} />
          <path d="M50 70 L45 80 L55 80 Z M45 80 L40 90 L50 90 Z M55 80 L50 90 L60 90 Z" fill="#FFD700" />
          <path d="M20 220 C20 220, 5 200, 50 170 C95 200, 80 220, 80 220 L65 220 L65 230 L35 230 L35 220 Z" fill="#483D8B" stroke="#2E2563" strokeWidth="2" />
          <path d="M50 215 L55 225 L50 235 L45 225 Z" fill="#FFD700" />
          <rect x="42" y="230" width="16" height="50" fill="#2E2563" rx="2" />
          <path d="M42 240 L58 245" stroke="#483D8B" strokeWidth="2" />
          <path d="M42 250 L58 255" stroke="#483D8B" strokeWidth="2" />
          <path d="M42 260 L58 265" stroke="#483D8B" strokeWidth="2" />
          <path d="M42 270 L58 275" stroke="#483D8B" strokeWidth="2" />
          <circle cx="50" cy="285" r="8" fill="#483D8B" stroke="#2E2563" strokeWidth="2" />
        </svg>
      );
    };

    // 2. OracleChat Component
    const OracleChat = ({ onNavigate }) => {
      const [messages, setMessages] = useState([
        { 
          role: 'model', 
          content: (
            <span>
              Greetings Traveler. I am the Oracle of Louie World. What Wisdom do you seek? I can grant you anything from{' '}
              <button onClick={() => onNavigate('video-games')} className="text-yellow-400 font-bold hover:text-yellow-200 hover:underline transition-colors cursor-pointer font-fantasy tracking-wide">Video Game</button>,{' '}
              <button onClick={() => onNavigate('books')} className="text-yellow-400 font-bold hover:text-yellow-200 hover:underline transition-colors cursor-pointer font-fantasy tracking-wide">books</button>, and{' '}
              <button onClick={() => onNavigate('manga-anime')} className="text-yellow-400 font-bold hover:text-yellow-200 hover:underline transition-colors cursor-pointer font-fantasy tracking-wide">manga/anime</button>{' '}knowledge.
            </span>
          ) 
        }
      ]);
      const [input, setInput] = useState('');
      const [isLoading, setIsLoading] = useState(false);
      const messagesEndRef = useRef(null);

      const scrollToBottom = () => { messagesEndRef.current?.scrollIntoView({ behavior: "smooth" }); };
      useEffect(() => { scrollToBottom(); }, [messages]);

      const handleSend = async () => {
        if (!input.trim() || isLoading) return;
        const userMessage = { role: 'user', content: input };
        setMessages(prev => [...prev, userMessage]);
        setInput('');
        setIsLoading(true);

        try {
          const apiKey = process.env.API_KEY;
          if (!apiKey) throw new Error("API Key not found");
          
          const ai = new GoogleGenAI({ apiKey });
          const response = await ai.models.generateContent({
            model: 'gemini-3-flash-preview',
            contents: [{ role: "user", parts: [{ text: `You are the mystical Oracle of "Louie World". Speak in a wise, archaic tone. Concise (under 100 words). User: ${input}` }] }],
          });
          setMessages(prev => [...prev, { role: 'model', content: response.text || "The spirits are silent..." }]);
        } catch (error) {
          console.error("Oracle error:", error);
          setMessages(prev => [...prev, { role: 'model', content: "A dark fog clouds my vision. (Please check the API Key in index.html)" }]);
        } finally {
          setIsLoading(false);
        }
      };

      return (
        <div className="w-full max-w-2xl mx-auto bg-dark-slate/80 border-2 border-hylian-gold/30 rounded-lg overflow-hidden backdrop-blur-md shadow-2xl flex flex-col h-[500px]">
          <div className="bg-hylian-blue/90 p-4 border-b border-hylian-gold/50 flex items-center gap-2">
            <Sparkles className="text-hylian-gold w-5 h-5" />
            <h3 className="font-fantasy text-hylian-gold text-xl tracking-wider">Consult the Oracle</h3>
          </div>
          <div className="flex-1 overflow-y-auto p-4 space-y-4">
            {messages.map((msg, idx) => (
              <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                <div className={`max-w-[80%] p-3 rounded-lg ${msg.role === 'user' ? 'bg-forest-green/80 text-white rounded-br-none border border-green-600' : 'bg-indigo-950/80 text-gray-200 rounded-bl-none border border-indigo-800'}`}>
                  <div className="font-body text-sm md:text-base leading-relaxed">{msg.content}</div>
                </div>
              </div>
            ))}
            {isLoading && <div className="flex justify-start"><div className="bg-indigo-950/80 p-3 rounded-lg border border-indigo-800 flex items-center gap-2"><Loader2 className="w-4 h-4 animate-spin text-hylian-gold" /><span className="text-gray-400 text-sm italic">Divining...</span></div></div>}
            <div ref={messagesEndRef} />
          </div>
          <div className="p-4 bg-black/40 border-t border-hylian-gold/20 flex gap-2">
            <input type="text" value={input} onChange={(e) => setInput(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && handleSend()} placeholder="Ask about the legends..." className="flex-1 bg-gray-900/50 border border-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:border-hylian-gold font-body placeholder-gray-500" />
            <button onClick={handleSend} disabled={isLoading} className="bg-hylian-blue hover:bg-blue-800 text-hylian-gold border border-hylian-gold/50 px-4 py-2 rounded transition-colors disabled:opacity-50"><Send className="w-5 h-5" /></button>
          </div>
        </div>
      );
    };

    // 3. WindOverlay Component
    const WindOverlay = () => {
      return (
        <motion.div
          initial={{ x: '100%' }}
          animate={{ x: '0%' }}
          exit={{ x: '-100%' }}
          transition={{ duration: 0.8, ease: "easeInOut" }}
          className="fixed inset-0 z-[100] pointer-events-none flex items-center justify-center overflow-hidden"
        >
          <div className="absolute inset-0 bg-gradient-to-r from-transparent via-blue-100/80 to-transparent backdrop-blur-sm" />
          <div className="absolute inset-0 opacity-50">
             <svg className="w-full h-full" preserveAspectRatio="none">
                <motion.path d="M-100,50 Q400,100 800,50 T1600,100" stroke="white" strokeWidth="200" fill="none" initial={{ pathLength: 0, opacity: 0 }} animate={{ pathLength: 1, opacity: 0.5 }} transition={{ duration: 0.5 }} />
                <motion.path d="M-100,800 Q400,700 800,800 T1600,700" stroke="white" strokeWidth="300" fill="none" initial={{ pathLength: 0, opacity: 0 }} animate={{ pathLength: 1, opacity: 0.3 }} transition={{ duration: 0.6, delay: 0.1 }} />
             </svg>
          </div>
        </motion.div>
      );
    };

    // --- MAIN APP ---
    const App = () => {
      const [clashed, setClashed] = useState(false);
      const [showTitle, setShowTitle] = useState(false);
      const [activeTopic, setActiveTopic] = useState(null);
      const [isWindBlowing, setIsWindBlowing] = useState(false);

      useEffect(() => {
        const timer1 = setTimeout(() => setClashed(true), 100); 
        const timer2 = setTimeout(() => setShowTitle(true), 800);
        return () => { clearTimeout(timer1); clearTimeout(timer2); };
      }, []);

      const scrollToSection = (id) => {
        const element = document.getElementById(id);
        if (element) element.scrollIntoView({ behavior: 'smooth' });
      };

      const handleTransition = (nextTopic) => {
        setIsWindBlowing(true);
        setTimeout(() => {
          setActiveTopic(nextTopic);
          window.scrollTo(0, 0);
          setTimeout(() => setIsWindBlowing(false), 100);
        }, 800);
      };

      const handleTopicNavigation = (topic) => {
        if (activeTopic === topic) return;
        handleTransition(topic);
      };

      const handleBack = () => handleTransition(null);

      return (
        <div className="min-h-screen bg-[#050505] text-gray-100 overflow-x-hidden font-body selection:bg-hylian-gold selection:text-black">
          <AnimatePresence>{isWindBlowing && <WindOverlay />}</AnimatePresence>

          {!activeTopic && (
            <>
              <header className="relative h-screen w-full flex flex-col items-center justify-center overflow-hidden">
                <div className="absolute inset-0 bg-[#050505] z-0"></div>
                <div className="absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent to-black/80 z-0"></div>
                <div className="relative z-10 w-full max-w-5xl h-[600px] flex items-center justify-center">
                  <motion.div initial={{ x: '-100vw', rotate: -90, opacity: 0 }} animate={{ x: 0, rotate: 30, opacity: 1 }} transition={{ type: 'spring', stiffness: 60, damping: 12, duration: 1.5, delay: 0.2 }} className="absolute z-20" style={{ transformOrigin: 'center center' }}>
                     <motion.div animate={{ x: [0, 5, 0], y: [0, -3, 0], rotate: [0, 1, 0] }} transition={{ repeat: Infinity, duration: 2.5, ease: "easeInOut", delay: 1.7 }} className="transform translate-x-12 translate-y-12">
                       <MasterSword className="w-64 h-[500px] drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]" glow={clashed} />
                     </motion.div>
                  </motion.div>
                  <motion.div initial={{ x: '100vw', rotate: 90, opacity: 0 }} animate={{ x: 0, rotate: -30, opacity: 1 }} transition={{ type: 'spring', stiffness: 60, damping: 12, duration: 1.5, delay: 0.2 }} className="absolute z-20" style={{ transformOrigin: 'center center' }}>
                     <motion.div animate={{ x: [0, -5, 0], y: [0, -2, 0], rotate: [0, -1, 0] }} transition={{ repeat: Infinity, duration: 3, ease: "easeInOut", delay: 1.7 }} className="transform -translate-x-12 translate-y-12">
                       <MasterSword className="w-64 h-[500px] drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]" glow={clashed} />
                     </motion.div>
                  </motion.div>
                  <AnimatePresence>
                    {clashed && !showTitle && (
                      <motion.div initial={{ scale: 0, opacity: 1 }} animate={{ scale: 3, opacity: 0 }} exit={{ opacity: 0 }} transition={{ duration: 0.5, ease: "easeOut" }} className="absolute z-30 w-32 h-32 bg-yellow-100 rounded-full blur-xl" />
                    )}
                  </AnimatePresence>
                  <motion.div initial={{ opacity: 0, scale: 0.8, y: 20 }} animate={showTitle ? { opacity: 1, scale: 1, y: 0 } : {}} transition={{ duration: 1, ease: "easeOut" }} className="absolute z-40 text-center w-full px-4">
                    <h1 className="font-fantasy font-bold text-5xl md:text-7xl lg:text-9xl text-transparent bg-clip-text bg-gradient-to-b from-[#fffbe6] via-[#fcd34d] to-[#b45309] drop-shadow-[0_4px_4px_rgba(0,0,0,1)] drop-shadow-[0_0_20px_rgba(234,179,8,0.2)] tracking-wider">LOUIE WORLD</h1>
                  </motion.div>
                  <motion.div initial={{ opacity: 0, y: 50 }} animate={showTitle ? { opacity: 1, y: 0 } : {}} transition={{ duration: 1, delay: 0.5, ease: "easeOut" }} className="absolute bottom-[-150px] md:bottom-[-100px] z-50 flex gap-12 md:gap-24">
                    <button onClick={() => scrollToSection('games')} className="group relative px-4 py-2"><span className="font-fantasy text-2xl md:text-3xl text-hylian-gold tracking-widest group-hover:text-yellow-200 transition-colors duration-300 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">GAMES</span><span className="absolute bottom-0 left-0 w-0 h-0.5 bg-hylian-gold group-hover:w-full transition-all duration-300 ease-out" /></button>
                    <button onClick={() => scrollToSection('explore')} className="group relative px-4 py-2"><span className="font-fantasy text-2xl md:text-3xl text-hylian-gold tracking-widest group-hover:text-yellow-200 transition-colors duration-300 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">EXPLORE</span><span className="absolute bottom-0 left-0 w-0 h-0.5 bg-hylian-gold group-hover:w-full transition-all duration-300 ease-out" /></button>
                  </motion.div>
                </div>
              </header>

              <section id="games" className="min-h-screen bg-[#080808] relative py-24 px-6 border-t border-gray-900/50 flex flex-col items-center justify-start">
                <div className="absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-[#050505] to-transparent pointer-events-none" />
                <div className="max-w-7xl mx-auto w-full">
                  <motion.div initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ duration: 0.8 }} className="text-center mb-16">
                    <h2 className="font-fantasy text-4xl md:text-6xl text-hylian-gold mb-6 drop-shadow-md">Realm of Challenges</h2>
                    <div className="w-full h-64 flex items-center justify-center border border-gray-800 rounded-lg bg-[#111] text-gray-600 font-fantasy text-xl">Coming Soon...</div>
                  </motion.div>
                </div>
              </section>

              <section id="explore" className="min-h-screen bg-[#050505] relative py-24 px-6 border-t border-gray-900 flex flex-col items-center">
                 <div className="absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-indigo-950/20 via-[#050505] to-[#050505] pointer-events-none" />
                 <div className="max-w-4xl w-full relative z-10">
                   <motion.div initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ duration: 0.8 }} className="text-center mb-12">
                      <h2 className="font-fantasy text-4xl md:text-6xl text-hylian-gold mb-6 drop-shadow-md">Consult the Oracle</h2>
                      <div className="w-24 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-6" />
                      <p className="text-gray-400 text-lg font-light">The spirits of Louie World are ancient and knowing. Ask, and the Oracle shall reveal the secrets of this land.</p>
                   </motion.div>
                   <motion.div initial={{ opacity: 0, y: 40 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ duration: 0.8, delay: 0.2 }}>
                     <OracleChat onNavigate={handleTopicNavigation} />
                   </motion.div>
                 </div>
              </section>
            </>
          )}

          {activeTopic && (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="min-h-screen bg-[#0a0a0a] relative flex flex-col items-center justify-center py-24 px-6">
              <button onClick={handleBack} className="fixed top-6 right-6 z-50 flex items-center gap-2 px-6 py-3 bg-hylian-blue/90 border border-hylian-gold/50 rounded-full text-hylian-gold font-fantasy tracking-wider hover:bg-blue-900 transition-all hover:scale-105 shadow-[0_0_15px_rgba(200,169,71,0.3)] group">
                <Undo2 className="w-5 h-5 group-hover:-translate-x-1 transition-transform" />BACK
              </button>
              {activeTopic === 'video-games' && (
                <div className="max-w-7xl mx-auto text-center animate-in fade-in zoom-in duration-700">
                  <h2 className="font-fantasy text-4xl md:text-7xl text-hylian-gold mb-8 drop-shadow-[0_0_10px_rgba(200,169,71,0.3)]">Video Game Knowledge</h2>
                  <div className="w-32 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-8" />
                  <p className="text-gray-400 text-xl md:text-2xl font-light italic">The archives are currently sealed...</p>
                </div>
              )}
              {activeTopic === 'books' && (
                 <div className="max-w-7xl mx-auto text-center animate-in fade-in zoom-in duration-700">
                  <h2 className="font-fantasy text-4xl md:text-7xl text-hylian-gold mb-8 drop-shadow-[0_0_10px_rgba(200,169,71,0.3)]">Book Knowledge</h2>
                  <div className="w-32 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-8" />
                  <p className="text-gray-400 text-xl md:text-2xl font-light italic">Ancient tomes await discovery...</p>
                </div>
              )}
              {activeTopic === 'manga-anime' && (
                 <div className="max-w-7xl mx-auto text-center animate-in fade-in zoom-in duration-700">
                  <h2 className="font-fantasy text-4xl md:text-7xl text-hylian-gold mb-8 drop-shadow-[0_0_10px_rgba(200,169,71,0.3)]">Manga & Anime Knowledge</h2>
                  <div className="w-32 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-8" />
                  <p className="text-gray-400 text-xl md:text-2xl font-light italic">Scrolls of legend are being gathered...</p>
                </div>
              )}
            </motion.div>
          )}

          <footer className="bg-black border-t border-gray-900 py-12 relative z-20">
            <div className="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
                <div className="flex items-center gap-2"><MasterSword className="w-6 h-16" /><span className="font-fantasy text-xl text-gray-500">Louie World</span></div>
                <div className="text-gray-600 text-sm">&copy; {new Date().getFullYear()} Louie World. Crafted with React & Tailwind.</div>
            </div>
          </footer>
        </div>
      );
    };

    // --- RENDER ---
    const rootElement = document.getElementById('root');
    const root = createRoot(rootElement);
    root.render(
      <React.StrictMode>
        <App />
      </React.StrictMode>
    );
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Louie World</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
  
  <!-- Babel for in-browser JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind Configuration -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            fantasy: ['"Cinzel Decorative"', 'cursive'],
            body: ['Lato', 'sans-serif'],
          },
          colors: {
            'hylian-gold': '#C8A947',
            'hylian-blue': '#1F3A8B',
            'forest-green': '#1A472A',
            'dark-slate': '#1a1a1a',
          },
          animation: {
            'pulse-fast': 'pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'spark': 'spark 0.5s ease-out forwards',
          },
          keyframes: {
            spark: {
              '0%': { transform: 'scale(0)', opacity: '1' },
              '100%': { transform: 'scale(1.5)', opacity: '0' },
            }
          }
        },
      },
    }
  </script>

  <!-- Global Styles -->
  <style>
    html, body, #root {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
      background-color: #050505;
      color: #f0f0f0;
      font-family: 'Lato', sans-serif;
      overflow-x: hidden;
    }
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: #1a1a1a; }
    ::-webkit-scrollbar-thumb { background: #C8A947; border-radius: 5px; }
    ::-webkit-scrollbar-thumb:hover { background: #a68b36; }
    .pointer-events-none { pointer-events: none; }
    /* Animation Fallbacks */
    .animate-in { animation-duration: 0.7s; animation-fill-mode: both; animation-timing-function: ease-out; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes zoomIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .fade-in { animation-name: fadeIn; }
    .zoom-in { animation-name: zoomIn; }
  </style>

  <!-- Import Map for React & Libraries -->
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "framer-motion": "https://esm.sh/framer-motion@10.16.4",
    "lucide-react": "https://esm.sh/lucide-react@0.292.0",
    "@google/genai": "https://esm.sh/@google/genai@0.1.1",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>

  <!-- Polyfill for process.env (Required for API Key) -->
  <script>
    window.process = {
      env: {
        // PASTE YOUR API KEY INSIDE THE QUOTES BELOW
        API_KEY: '' 
      }
    };
  </script>
</head>
<body>
  <div id="root"></div>

  <!-- MAIN APPLICATION CODE -->
  <script type="text/babel" data-type="module">
    import React, { useState, useEffect, useRef } from 'react';
    import { createRoot } from 'react-dom/client';
    import { motion, AnimatePresence } from 'framer-motion';
    import { Undo2, Send, Sparkles, Loader2 } from 'lucide-react';
    import { GoogleGenAI } from '@google/genai';

    // --- COMPONENTS ---

    // 1. MasterSword Component
    const MasterSword = ({ className = "", glow = false }) => {
      return (
        <svg viewBox="0 0 100 300" className={`overflow-visible ${className}`} xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="bladeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stopColor="#C0C0C0" />
              <stop offset="50%" stopColor="#E0E0E0" />
              <stop offset="51%" stopColor="#FFFFFF" />
              <stop offset="100%" stopColor="#C0C0C0" />
            </linearGradient>
            <filter id="glowFilter">
              <feGaussianBlur stdDeviation="2.5" result="coloredBlur" />
              <feMerge>
                <feMergeNode in="coloredBlur" />
                <feMergeNode in="SourceGraphic" />
              </feMerge>
            </filter>
          </defs>
          <path d="M50 20 L65 220 L50 290 L35 220 Z" fill="url(#bladeGradient)" stroke="#999" strokeWidth="1" filter={glow ? "url(#glowFilter)" : ""} />
          <path d="M50 70 L45 80 L55 80 Z M45 80 L40 90 L50 90 Z M55 80 L50 90 L60 90 Z" fill="#FFD700" />
          <path d="M20 220 C20 220, 5 200, 50 170 C95 200, 80 220, 80 220 L65 220 L65 230 L35 230 L35 220 Z" fill="#483D8B" stroke="#2E2563" strokeWidth="2" />
          <path d="M50 215 L55 225 L50 235 L45 225 Z" fill="#FFD700" />
          <rect x="42" y="230" width="16" height="50" fill="#2E2563" rx="2" />
          <path d="M42 240 L58 245" stroke="#483D8B" strokeWidth="2" />
          <path d="M42 250 L58 255" stroke="#483D8B" strokeWidth="2" />
          <path d="M42 260 L58 265" stroke="#483D8B" strokeWidth="2" />
          <path d="M42 270 L58 275" stroke="#483D8B" strokeWidth="2" />
          <circle cx="50" cy="285" r="8" fill="#483D8B" stroke="#2E2563" strokeWidth="2" />
        </svg>
      );
    };

    // 2. OracleChat Component
    const OracleChat = ({ onNavigate }) => {
      const [messages, setMessages] = useState([
        { 
          role: 'model', 
          content: (
            <span>
              Greetings Traveler. I am the Oracle of Louie World. What Wisdom do you seek? I can grant you anything from{' '}
              <button onClick={() => onNavigate('video-games')} className="text-yellow-400 font-bold hover:text-yellow-200 hover:underline transition-colors cursor-pointer font-fantasy tracking-wide">Video Game</button>,{' '}
              <button onClick={() => onNavigate('books')} className="text-yellow-400 font-bold hover:text-yellow-200 hover:underline transition-colors cursor-pointer font-fantasy tracking-wide">books</button>, and{' '}
              <button onClick={() => onNavigate('manga-anime')} className="text-yellow-400 font-bold hover:text-yellow-200 hover:underline transition-colors cursor-pointer font-fantasy tracking-wide">manga/anime</button>{' '}knowledge.
            </span>
          ) 
        }
      ]);
      const [input, setInput] = useState('');
      const [isLoading, setIsLoading] = useState(false);
      const messagesEndRef = useRef(null);

      const scrollToBottom = () => { messagesEndRef.current?.scrollIntoView({ behavior: "smooth" }); };
      useEffect(() => { scrollToBottom(); }, [messages]);

      const handleSend = async () => {
        if (!input.trim() || isLoading) return;
        const userMessage = { role: 'user', content: input };
        setMessages(prev => [...prev, userMessage]);
        setInput('');
        setIsLoading(true);

        try {
          const apiKey = process.env.API_KEY;
          if (!apiKey) throw new Error("API Key not found");
          
          const ai = new GoogleGenAI({ apiKey });
          const response = await ai.models.generateContent({
            model: 'gemini-3-flash-preview',
            contents: [{ role: "user", parts: [{ text: `You are the mystical Oracle of "Louie World". Speak in a wise, archaic tone. Concise (under 100 words). User: ${input}` }] }],
          });
          setMessages(prev => [...prev, { role: 'model', content: response.text || "The spirits are silent..." }]);
        } catch (error) {
          console.error("Oracle error:", error);
          setMessages(prev => [...prev, { role: 'model', content: "A dark fog clouds my vision. (Please check the API Key in index.html)" }]);
        } finally {
          setIsLoading(false);
        }
      };

      return (
        <div className="w-full max-w-2xl mx-auto bg-dark-slate/80 border-2 border-hylian-gold/30 rounded-lg overflow-hidden backdrop-blur-md shadow-2xl flex flex-col h-[500px]">
          <div className="bg-hylian-blue/90 p-4 border-b border-hylian-gold/50 flex items-center gap-2">
            <Sparkles className="text-hylian-gold w-5 h-5" />
            <h3 className="font-fantasy text-hylian-gold text-xl tracking-wider">Consult the Oracle</h3>
          </div>
          <div className="flex-1 overflow-y-auto p-4 space-y-4">
            {messages.map((msg, idx) => (
              <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                <div className={`max-w-[80%] p-3 rounded-lg ${msg.role === 'user' ? 'bg-forest-green/80 text-white rounded-br-none border border-green-600' : 'bg-indigo-950/80 text-gray-200 rounded-bl-none border border-indigo-800'}`}>
                  <div className="font-body text-sm md:text-base leading-relaxed">{msg.content}</div>
                </div>
              </div>
            ))}
            {isLoading && <div className="flex justify-start"><div className="bg-indigo-950/80 p-3 rounded-lg border border-indigo-800 flex items-center gap-2"><Loader2 className="w-4 h-4 animate-spin text-hylian-gold" /><span className="text-gray-400 text-sm italic">Divining...</span></div></div>}
            <div ref={messagesEndRef} />
          </div>
          <div className="p-4 bg-black/40 border-t border-hylian-gold/20 flex gap-2">
            <input type="text" value={input} onChange={(e) => setInput(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && handleSend()} placeholder="Ask about the legends..." className="flex-1 bg-gray-900/50 border border-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:border-hylian-gold font-body placeholder-gray-500" />
            <button onClick={handleSend} disabled={isLoading} className="bg-hylian-blue hover:bg-blue-800 text-hylian-gold border border-hylian-gold/50 px-4 py-2 rounded transition-colors disabled:opacity-50"><Send className="w-5 h-5" /></button>
          </div>
        </div>
      );
    };

    // 3. WindOverlay Component
    const WindOverlay = () => {
      return (
        <motion.div
          initial={{ x: '100%' }}
          animate={{ x: '0%' }}
          exit={{ x: '-100%' }}
          transition={{ duration: 0.8, ease: "easeInOut" }}
          className="fixed inset-0 z-[100] pointer-events-none flex items-center justify-center overflow-hidden"
        >
          <div className="absolute inset-0 bg-gradient-to-r from-transparent via-blue-100/80 to-transparent backdrop-blur-sm" />
          <div className="absolute inset-0 opacity-50">
             <svg className="w-full h-full" preserveAspectRatio="none">
                <motion.path d="M-100,50 Q400,100 800,50 T1600,100" stroke="white" strokeWidth="200" fill="none" initial={{ pathLength: 0, opacity: 0 }} animate={{ pathLength: 1, opacity: 0.5 }} transition={{ duration: 0.5 }} />
                <motion.path d="M-100,800 Q400,700 800,800 T1600,700" stroke="white" strokeWidth="300" fill="none" initial={{ pathLength: 0, opacity: 0 }} animate={{ pathLength: 1, opacity: 0.3 }} transition={{ duration: 0.6, delay: 0.1 }} />
             </svg>
          </div>
        </motion.div>
      );
    };

    // --- MAIN APP ---
    const App = () => {
      const [clashed, setClashed] = useState(false);
      const [showTitle, setShowTitle] = useState(false);
      const [activeTopic, setActiveTopic] = useState(null);
      const [isWindBlowing, setIsWindBlowing] = useState(false);

      useEffect(() => {
        const timer1 = setTimeout(() => setClashed(true), 100); 
        const timer2 = setTimeout(() => setShowTitle(true), 800);
        return () => { clearTimeout(timer1); clearTimeout(timer2); };
      }, []);

      const scrollToSection = (id) => {
        const element = document.getElementById(id);
        if (element) element.scrollIntoView({ behavior: 'smooth' });
      };

      const handleTransition = (nextTopic) => {
        setIsWindBlowing(true);
        setTimeout(() => {
          setActiveTopic(nextTopic);
          window.scrollTo(0, 0);
          setTimeout(() => setIsWindBlowing(false), 100);
        }, 800);
      };

      const handleTopicNavigation = (topic) => {
        if (activeTopic === topic) return;
        handleTransition(topic);
      };

      const handleBack = () => handleTransition(null);

      return (
        <div className="min-h-screen bg-[#050505] text-gray-100 overflow-x-hidden font-body selection:bg-hylian-gold selection:text-black">
          <AnimatePresence>{isWindBlowing && <WindOverlay />}</AnimatePresence>

          {!activeTopic && (
            <>
              <header className="relative h-screen w-full flex flex-col items-center justify-center overflow-hidden">
                <div className="absolute inset-0 bg-[#050505] z-0"></div>
                <div className="absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent to-black/80 z-0"></div>
                <div className="relative z-10 w-full max-w-5xl h-[600px] flex items-center justify-center">
                  <motion.div initial={{ x: '-100vw', rotate: -90, opacity: 0 }} animate={{ x: 0, rotate: 30, opacity: 1 }} transition={{ type: 'spring', stiffness: 60, damping: 12, duration: 1.5, delay: 0.2 }} className="absolute z-20" style={{ transformOrigin: 'center center' }}>
                     <motion.div animate={{ x: [0, 5, 0], y: [0, -3, 0], rotate: [0, 1, 0] }} transition={{ repeat: Infinity, duration: 2.5, ease: "easeInOut", delay: 1.7 }} className="transform translate-x-12 translate-y-12">
                       <MasterSword className="w-64 h-[500px] drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]" glow={clashed} />
                     </motion.div>
                  </motion.div>
                  <motion.div initial={{ x: '100vw', rotate: 90, opacity: 0 }} animate={{ x: 0, rotate: -30, opacity: 1 }} transition={{ type: 'spring', stiffness: 60, damping: 12, duration: 1.5, delay: 0.2 }} className="absolute z-20" style={{ transformOrigin: 'center center' }}>
                     <motion.div animate={{ x: [0, -5, 0], y: [0, -2, 0], rotate: [0, -1, 0] }} transition={{ repeat: Infinity, duration: 3, ease: "easeInOut", delay: 1.7 }} className="transform -translate-x-12 translate-y-12">
                       <MasterSword className="w-64 h-[500px] drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]" glow={clashed} />
                     </motion.div>
                  </motion.div>
                  <AnimatePresence>
                    {clashed && !showTitle && (
                      <motion.div initial={{ scale: 0, opacity: 1 }} animate={{ scale: 3, opacity: 0 }} exit={{ opacity: 0 }} transition={{ duration: 0.5, ease: "easeOut" }} className="absolute z-30 w-32 h-32 bg-yellow-100 rounded-full blur-xl" />
                    )}
                  </AnimatePresence>
                  <motion.div initial={{ opacity: 0, scale: 0.8, y: 20 }} animate={showTitle ? { opacity: 1, scale: 1, y: 0 } : {}} transition={{ duration: 1, ease: "easeOut" }} className="absolute z-40 text-center w-full px-4">
                    <h1 className="font-fantasy font-bold text-5xl md:text-7xl lg:text-9xl text-transparent bg-clip-text bg-gradient-to-b from-[#fffbe6] via-[#fcd34d] to-[#b45309] drop-shadow-[0_4px_4px_rgba(0,0,0,1)] drop-shadow-[0_0_20px_rgba(234,179,8,0.2)] tracking-wider">LOUIE WORLD</h1>
                  </motion.div>
                  <motion.div initial={{ opacity: 0, y: 50 }} animate={showTitle ? { opacity: 1, y: 0 } : {}} transition={{ duration: 1, delay: 0.5, ease: "easeOut" }} className="absolute bottom-[-150px] md:bottom-[-100px] z-50 flex gap-12 md:gap-24">
                    <button onClick={() => scrollToSection('games')} className="group relative px-4 py-2"><span className="font-fantasy text-2xl md:text-3xl text-hylian-gold tracking-widest group-hover:text-yellow-200 transition-colors duration-300 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">GAMES</span><span className="absolute bottom-0 left-0 w-0 h-0.5 bg-hylian-gold group-hover:w-full transition-all duration-300 ease-out" /></button>
                    <button onClick={() => scrollToSection('explore')} className="group relative px-4 py-2"><span className="font-fantasy text-2xl md:text-3xl text-hylian-gold tracking-widest group-hover:text-yellow-200 transition-colors duration-300 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">EXPLORE</span><span className="absolute bottom-0 left-0 w-0 h-0.5 bg-hylian-gold group-hover:w-full transition-all duration-300 ease-out" /></button>
                  </motion.div>
                </div>
              </header>

              <section id="games" className="min-h-screen bg-[#080808] relative py-24 px-6 border-t border-gray-900/50 flex flex-col items-center justify-start">
                <div className="absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-[#050505] to-transparent pointer-events-none" />
                <div className="max-w-7xl mx-auto w-full">
                  <motion.div initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ duration: 0.8 }} className="text-center mb-16">
                    <h2 className="font-fantasy text-4xl md:text-6xl text-hylian-gold mb-6 drop-shadow-md">Realm of Challenges</h2>
                    <div className="w-full h-64 flex items-center justify-center border border-gray-800 rounded-lg bg-[#111] text-gray-600 font-fantasy text-xl">Coming Soon...</div>
                  </motion.div>
                </div>
              </section>

              <section id="explore" className="min-h-screen bg-[#050505] relative py-24 px-6 border-t border-gray-900 flex flex-col items-center">
                 <div className="absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-indigo-950/20 via-[#050505] to-[#050505] pointer-events-none" />
                 <div className="max-w-4xl w-full relative z-10">
                   <motion.div initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ duration: 0.8 }} className="text-center mb-12">
                      <h2 className="font-fantasy text-4xl md:text-6xl text-hylian-gold mb-6 drop-shadow-md">Consult the Oracle</h2>
                      <div className="w-24 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-6" />
                      <p className="text-gray-400 text-lg font-light">The spirits of Louie World are ancient and knowing. Ask, and the Oracle shall reveal the secrets of this land.</p>
                   </motion.div>
                   <motion.div initial={{ opacity: 0, y: 40 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ duration: 0.8, delay: 0.2 }}>
                     <OracleChat onNavigate={handleTopicNavigation} />
                   </motion.div>
                 </div>
              </section>
            </>
          )}

          {activeTopic && (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="min-h-screen bg-[#0a0a0a] relative flex flex-col items-center justify-center py-24 px-6">
              <button onClick={handleBack} className="fixed top-6 right-6 z-50 flex items-center gap-2 px-6 py-3 bg-hylian-blue/90 border border-hylian-gold/50 rounded-full text-hylian-gold font-fantasy tracking-wider hover:bg-blue-900 transition-all hover:scale-105 shadow-[0_0_15px_rgba(200,169,71,0.3)] group">
                <Undo2 className="w-5 h-5 group-hover:-translate-x-1 transition-transform" />BACK
              </button>
              {activeTopic === 'video-games' && (
                <div className="max-w-7xl mx-auto text-center animate-in fade-in zoom-in duration-700">
                  <h2 className="font-fantasy text-4xl md:text-7xl text-hylian-gold mb-8 drop-shadow-[0_0_10px_rgba(200,169,71,0.3)]">Video Game Knowledge</h2>
                  <div className="w-32 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-8" />
                  <p className="text-gray-400 text-xl md:text-2xl font-light italic">The archives are currently sealed...</p>
                </div>
              )}
              {activeTopic === 'books' && (
                 <div className="max-w-7xl mx-auto text-center animate-in fade-in zoom-in duration-700">
                  <h2 className="font-fantasy text-4xl md:text-7xl text-hylian-gold mb-8 drop-shadow-[0_0_10px_rgba(200,169,71,0.3)]">Book Knowledge</h2>
                  <div className="w-32 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-8" />
                  <p className="text-gray-400 text-xl md:text-2xl font-light italic">Ancient tomes await discovery...</p>
                </div>
              )}
              {activeTopic === 'manga-anime' && (
                 <div className="max-w-7xl mx-auto text-center animate-in fade-in zoom-in duration-700">
                  <h2 className="font-fantasy text-4xl md:text-7xl text-hylian-gold mb-8 drop-shadow-[0_0_10px_rgba(200,169,71,0.3)]">Manga & Anime Knowledge</h2>
                  <div className="w-32 h-1 bg-gradient-to-r from-transparent via-hylian-gold to-transparent mx-auto mb-8" />
                  <p className="text-gray-400 text-xl md:text-2xl font-light italic">Scrolls of legend are being gathered...</p>
                </div>
              )}
            </motion.div>
          )}

          <footer className="bg-black border-t border-gray-900 py-12 relative z-20">
            <div className="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
                <div className="flex items-center gap-2"><MasterSword className="w-6 h-16" /><span className="font-fantasy text-xl text-gray-500">Louie World</span></div>
                <div className="text-gray-600 text-sm">&copy; {new Date().getFullYear()} Louie World. Crafted with React & Tailwind.</div>
            </div>
          </footer>
        </div>
      );
    };

    // --- RENDER ---
    const rootElement = document.getElementById('root');
    const root = createRoot(rootElement);
    root.render(
      <React.StrictMode>
        <App />
      </React.StrictMode>
    );
  </script>
</body>
</html>
